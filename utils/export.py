import streamlit as st
from datetime import datetime

# Language mapping for display
LANGUAGE_NAMES = {
    'en': 'ğŸ‡¬ğŸ‡§ English',
    'hi': 'ğŸ‡®ğŸ‡³ Hindi',
    'es': 'ğŸ‡ªğŸ‡¸ Spanish',
    'fr': 'ğŸ‡«ğŸ‡· French',
    'de': 'ğŸ‡©ğŸ‡ª German',
    'ja': 'ğŸ‡¯ğŸ‡µ Japanese',
    'ko': 'ğŸ‡°ğŸ‡· Korean',
    'zh': 'ğŸ‡¨ğŸ‡³ Chinese',
    'ar': 'ğŸ‡¸ğŸ‡¦ Arabic',
    'ru': 'ğŸ‡·ğŸ‡º Russian',
    'pt': 'ğŸ‡µğŸ‡¹ Portuguese',
    'it': 'ğŸ‡®ğŸ‡¹ Italian',
    'nl': 'ğŸ‡³ğŸ‡± Dutch',
    'pl': 'ğŸ‡µğŸ‡± Polish',
    'tr': 'ğŸ‡¹ğŸ‡· Turkish'
}

def export_to_markdown(original_text, translation, summary, meeting_title, meeting_date, detected_lang):
    """Export meeting minutes to markdown"""
    lang_name = LANGUAGE_NAMES.get(detected_lang, detected_lang.upper())
    
    markdown_content = f"""# {meeting_title}
**Date**: {meeting_date}
**Generated**: {datetime.now().strftime("%Y-%m-%d %H:%M:%S")}
**Original Language**: {lang_name}

---

{summary}

---

## ğŸŒ English Translation

{translation}

---

## ğŸ“ Original Transcription ({lang_name})

{original_text}

---
*Generated by AI Meeting Minutes Auto-Summarizer (Multilingual)*
"""
    return markdown_content